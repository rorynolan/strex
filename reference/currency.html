<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract currency amounts from a string. — currency • strex</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Extract currency amounts from a string. — currency" />
<meta property="og:description" content="The currency of a number is defined as the character coming before the number
in the string. If nothing comes before (i.e. if the number is the first thing
in the string), the currency is the empty string, similarly the currency can
be a space, comma or any manner of thing." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">strex</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/alphordering-numbers.html">Alphordering Numbers</a>
    </li>
    <li>
      <a href="../articles/argument-matching.html">Argument Matching</a>
    </li>
    <li>
      <a href="../articles/before-and-after.html">Before and After</a>
    </li>
    <li>
      <a href="../articles/important-miscellany.html">Important Miscellany</a>
    </li>
    <li>
      <a href="../articles/numbers-in-strings.html">Numbers Within Strings</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rorynolan/strex/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract currency amounts from a string.</h1>
    <small class="dont-index">Source: <a href='https://github.com/rorynolan/strex/blob/master/R/currency.R'><code>R/currency.R</code></a></small>
    <div class="hidden name"><code>currency.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The currency of a number is defined as the character coming before the number
in the string. If nothing comes before (i.e. if the number is the first thing
in the string), the currency is the empty string, similarly the currency can
be a space, comma or any manner of thing.</p>
    </div>

    <pre class="usage"><span class='fu'>str_extract_currencies</span><span class='op'>(</span><span class='va'>string</span><span class='op'>)</span>

<span class='fu'>str_nth_currency</span><span class='op'>(</span><span class='va'>string</span>, <span class='va'>n</span><span class='op'>)</span>

<span class='fu'>str_first_currency</span><span class='op'>(</span><span class='va'>string</span><span class='op'>)</span>

<span class='fu'>str_last_currency</span><span class='op'>(</span><span class='va'>string</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>string</th>
      <td><p>A character vector.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>A vector of integerish values. Must be either length 1 or
have length equal to the length of <code>string</code>. Negative indices count from
the back: while <code>n = 1</code> and <code>n = 2</code> correspond to first and second, <code>n = -1</code> and <code>n = -2</code> correspond to last and second-last. <code>n = 0</code> will return
<code>NA</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with 4 columns: <code>string_num</code>, <code>string</code>, <code>curr_sym</code> and
<code>amount</code>. Every extracted currency amount gets its own row in the data
frame detailing the string number and string that it was extracted from,
the currency symbol and the amount.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>These functions are vectorized over <code>string</code> and <code>n</code>.</p>
<p><code>str_extract_currencies()</code> extracts all currency amounts.</p>
<p><code>str_nth_currency()</code> just gets the <code>n</code>th currency amount from each string.
<code>str_first_currency(string)</code> and <code>str_last_currency(string)</code> are just
wrappers for <code>str_nth_currency(string, n = 1)</code> and <code>str_nth_currency(string, n = -1)</code>.</p>
<p>"-$2.00" and "$-2.00" are interpreted as negative two dollars.</p>
<p>If you request e.g. the 5th currency amount but there are only 3 currency
amounts, you get an amount and currency symbol of <code>NA</code>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>string</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"ab3 13"</span>, <span class='st'>"$1"</span>, <span class='st'>"35.00 $1.14"</span>, <span class='st'>"abc5 $3.8"</span>, <span class='st'>"stuff"</span><span class='op'>)</span>
<span class='fu'>str_extract_currencies</span><span class='op'>(</span><span class='va'>string</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   string_num      string curr_sym amount
#&gt; 1          1      ab3 13        b   3.00
#&gt; 2          1      ab3 13           13.00
#&gt; 3          2          $1        $   1.00
#&gt; 4          3 35.00 $1.14           35.00
#&gt; 5          3 35.00 $1.14        $   1.14
#&gt; 6          4   abc5 $3.8        c   5.00
#&gt; 7          4   abc5 $3.8        $   3.80</div><div class='input'><span class='fu'>str_nth_currency</span><span class='op'>(</span><span class='va'>string</span>, n <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   string_num      string curr_sym amount
#&gt; 1          1      ab3 13           13.00
#&gt; 2          2          $1     &lt;NA&gt;     NA
#&gt; 3          3 35.00 $1.14        $   1.14
#&gt; 4          4   abc5 $3.8        $   3.80
#&gt; 5          5       stuff     &lt;NA&gt;     NA</div><div class='input'><span class='fu'>str_nth_currency</span><span class='op'>(</span><span class='va'>string</span>, n <span class='op'>=</span> <span class='op'>-</span><span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   string_num      string curr_sym amount
#&gt; 1          1      ab3 13        b      3
#&gt; 2          2          $1     &lt;NA&gt;     NA
#&gt; 3          3 35.00 $1.14              35
#&gt; 4          4   abc5 $3.8        c      5
#&gt; 5          5       stuff     &lt;NA&gt;     NA</div><div class='input'><span class='fu'>str_nth_currency</span><span class='op'>(</span><span class='va'>string</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='op'>-</span><span class='fl'>2</span>, <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   string_num      string curr_sym amount
#&gt; 1          1      ab3 13        b    3.0
#&gt; 2          2          $1     &lt;NA&gt;     NA
#&gt; 3          3 35.00 $1.14            35.0
#&gt; 4          4   abc5 $3.8        $    3.8
#&gt; 5          5       stuff     &lt;NA&gt;     NA</div><div class='input'><span class='fu'>str_first_currency</span><span class='op'>(</span><span class='va'>string</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   string_num      string curr_sym amount
#&gt; 1          1      ab3 13        b      3
#&gt; 2          2          $1        $      1
#&gt; 3          3 35.00 $1.14              35
#&gt; 4          4   abc5 $3.8        c      5
#&gt; 5          5       stuff     &lt;NA&gt;     NA</div><div class='input'><span class='fu'>str_last_currency</span><span class='op'>(</span><span class='va'>string</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   string_num      string curr_sym amount
#&gt; 1          1      ab3 13           13.00
#&gt; 2          2          $1        $   1.00
#&gt; 3          3 35.00 $1.14        $   1.14
#&gt; 4          4   abc5 $3.8        $   3.80
#&gt; 5          5       stuff     &lt;NA&gt;     NA</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Rory Nolan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


